MODULE_SOURCES="xosd_notify.cpp xlfd_chooser.cpp"
MODULE_MOC_HEADERS="xosd_notify.h xlfd_chooser.h"

MODULE_INCLUDES="xosd.h"
MODULE_INCLUDES_PATH="/usr/include /usr/X11R6/include"
MODULE_LIBS=xosd
MODULE_LIBS_PATH="/usr/lib /usr/X11R6/lib"
MODULE_LDFLAGS="$PTHREAD_LDFLAGS $PTHREAD_LIBS"

MODULE_3RDPARTY="gtkfontdialog"
MODULE_TOOLS="gtk-config"
MODULE_CONFIGURE_CMD='
TOOL_DIRS2=`echo $TOOL_DIRS | sed -e "s/\//\\\\\\\\\//g"`
sed -e "s/gtk-config/$TOOL_DIRS2\/gtk-config/g" <./modules/xosd_notify/gtkfontdialog/Makefile.in >./modules/xosd_notify/gtkfontdialog/Makefile

echo -e "#include <xosd.h>\nint main(){xosd_create(1);return 0;}\n" > xosdtest.c
ret=`$CC $CXXFLAGS $MODULE_CXXFLAGS xosdtest.c $LDFLAGS $MODULE_LDFLAGS -o xosdtest 2>/dev/null >/dev/null && echo 1`
rm -f xosdtest xosdtest.c
if [ "$ret" != "1" ]; then
        echo "your libxosd headers are too OLD, get libxosd >= 2.2 "
        exit 1
fi'
