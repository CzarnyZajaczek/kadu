MODULE_SOURCES="alsa_sound.cpp"
MODULE_MOC_HEADERS="alsa_sound.h"
MODULE_INCLUDES="asoundlib.h"
MODULE_INCLUDES_PATH="/usr/include /usr/include/alsa"
MODULE_LIBS="asound"
MODULE_LIBS_PATH="/usr/lib"
MODULE_CONFIGURE_CMD='
echo -e "#include <asoundlib.h>\n#include <version.h>\nint main(){\n#if SND_LIB_MAJOR >=1\nprintf(\"1\\\n\");\n#else\nprintf(\"0\\\n\");\n#endif\nreturn 0;}\n" > asoundtest.c
gcc $MODULE_CXXFLAGS asoundtest.c -o asoundtest
ret=`./asoundtest`
rm -f asoundtest asoundtest.c
if [ "$ret" != "1" ]; then
        echo "your libasound headers are too OLD, get libasound >= 1.0"
        exit 1
fi'
